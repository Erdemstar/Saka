@model List<insecure_direct_object_reference_delete_credit_card.Core.Entity.CreditCard.CreditCardEntity>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container" style="margin-top: 10%;">
    <div class="row">
        <div class="col-md-2"></div>

        <div class="col-md-8">

            <h1>Add Credit Card</h1>

            <div>
                <form method="post" action="/Home/Attack" enctype="multipart/form-data">

                    <input type="text" name="type" value="add" hidden="hidden"/>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label>Name</label>
                            <input type="text" class="form-control" name="name">
                        </div>

                        <div class="form-group col-md-6">
                            <label>Number</label>
                            <input type="text" class="form-control" name="number">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label>Password</label>
                            <input type="text" class="form-control" name="password">
                        </div>

                        <div class="form-group col-md-6">
                            <label>CVE</label>
                            <input type="text" class="form-control" name="cve">
                        </div>
                    </div>

                    <input type="submit" class="btn btn-primary">

                </form>

            </div>

            @if (Model is not null)
            {
                <h1>Delete Credit Card</h1>

                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Number</th>
                        <th scope="col">Password</th>
                        <th scope="col">CVE</th>
                        <th scope="col">Action</th>

                    </tr>
                    </thead>
                    <tbody>

                    @foreach (var card in Model)
                    {
                        <tr>
                            <th>@card.Name</th>
                            <td>@card.Number</td>
                            <td>@card.Password</td>
                            <td>@card.CVE</td>
                            <td>
                                <form method="post" action="/Home/Attack" enctype="multipart/form-data">
                                    <input type="text" name="type" value="delete" hidden="hidden"/>
                                    <input type="hidden" name="cardId" value="@card.Id"/>
                                    <input type="submit" class="btn btn-danger"/>
                                </form>
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            }
        </div>

        <div class="col-md-2"></div>
    </div>

</div>